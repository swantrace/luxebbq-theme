<script>
{% render 'get-selected-from-query-string' %}
const filters = [{
    stateKey: "searchString",
    actionType: "changeSearchString",
    title: "Search",
    type: "SearchInput",
    info: [],
    selected: ""
}, {
    stateKey: "selectedCookTypesAndBrands",
    actionType: "changeCookTypesAndBrands",
    title: "Cook Types\/Brands",
    type: "NestedFilter",
    info: [
        [
            'Gas Grill', [
                'Big Green Egg',
                'Black Earth Grills',
                'Broil King',
                'Chuckwagon',
                'Delta Heat',
                'Hestan',
                'Huntington',
                'Lynx Grills',
                'Napoleon',
                'Pit Boss',
                'Twin Eagles',
                'Weber',
            ]
        ],
        [
            'Charcoal Grill', [
                'Big Green Egg',
                'Broil King',
                'Bulldog',
                'Delta Heat',
                'Hestan',
                'Kamado Joe',
                'Lynx Grills',
                'Masterbuilt',
                'Napolean',
                'Pit Barrel Cooker',
                'PK Grills',
                'Regal', // doesn't exist
                'Sunterra',
                'Twin Eagles',
                'Weber', 
            ]
        ],
        [
            'Pellet Grill', [
                'Big Green Egg',
                'Black Earth Grills',
                'Broil King',
                'Delta Heat',
                'Hestan',
                'Kamado Joe',
                'Louisiana Grills',
                'Lynx Grills',
                'Napoleon',
                'Pit Boss', 
                'Traeger',
                'Twin Eagles', 
                'Weber',
                'Yoder Smokers',
            ]
        ],
        [
            'Electric Grill', [
                'Big Green Egg',
                'Broil King',
                'Bradley',
                'Bulldog',
                'Delta Heat',
                'Hestan',
                'Lynx Grills',
                'Napoleon',
                'Twin Eagles', 
                'Weber',
            ]
        ],
        [
            'Offset Smoker', [
                'Big Green Egg',
                'Bradley',
                'Broil King',
                'Bulldog',
                'Delta Heat',
                'Hestan',
                'Lynx Grills',
                'Egg Modular', // doesn't exist
                'Kamado Joe', 
                'Louisiana Grills',
                'Masterbuilt',
                'Napoleon',
                'Twin Eagles',
                'Yoder Smokers',                
            ]
        ],
        [
            'Pizza Oven', [
                'Big Green Egg',
                'Delta Heat',
                'Fontana',
                'Hestan',
                'LaPiazza Wood Ovens',
                'Lynx Grills',
                'Ooni', 
                'Twin Eagles',
            ]
        ]
    ],
    selected: params?.['selectedCookTypesAndBrands'] ?? []
}, {
    stateKey: "currentPriceRange",
    actionType: "changePriceRange",
    title: "Price Range",
    type: "RangeSlider",
    info: [1, 25000],
    selected: [1, 25000]
}, {
    stateKey: "currentGrillCookingAreaRange",
    actionType: "changeGrillCookingAreaRange",
    title: "Grill Cooking Area",
    type: "RangeSlider",
    info: [1, 20],
    selected: [1, 20]
}, {
    stateKey: "selectedStandTypes",
    actionType: "changeStandTypes",
    title: "Stand Types",
    type: "SimpleFilter",
    info: ['Portable','Free Standing','Built In'],
    selected: params?.['selectedStandTypes'] ?? []
}, {
    stateKey: "clearance",
    actionType: "changeClearance",
    title: "Clearance",
    type: "Checkbox",
    info: [],
    selected: params?.['clearance'] ?? false
}, ]

const pelement = document.createElement('product-type-collection');
pelement.setAttribute('class', 'dtm dtm-product-type-collection');
pelement.setAttribute('all-filters', JSON.stringify(filters));
pelement.setAttribute('product-type', {{collection.all_types|first|json}});
pelement.setAttribute('default-sort-by', {{collection.default_sort_by|json}});
pelement.setAttribute('collection-title', "GRILLS / SMOKERS");
pelement.setAttribute('collection-metafield', JSON.stringify({{collection.metafields.dtm.info|json}}));
pelement.setAttribute('empty-collection-image', {{"empty-collection.png"|asset_url|json}});
document.currentScript.parentNode.insertBefore(pelement, document.currentScript);
</script>
{% schema %}
{
  "name": "Barbeques",
  "class": "dtm-collection-section dtm-barbeques-collection-section dtm-product-type-collection-section",
  "settings": []
}
{% endschema %}


{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
