{% assign gas_grill_brands = '"Gas Grill":["' | append: section.settings.gas_grill_brands | split: ',' | join: '","' | append: '"]' %}
{% assign charcoal_grill_brands = '"Charcoal Grill":["' | append: section.settings.charcoal_grill_brands | split: ',' | join: '","' | append: '"]' %}
{% assign pellet_grill_brands = '"Pellet Grill":["' | append: section.settings.pellet_grill_brands | split: ',' | join: '","' | append: '"]' %}
{% assign oven_brands = '"Oven":["' | append: section.settings.oven_brands | split: ',' | join: '","' | append: '"]' %}
{% assign cook_types_and_brands = '{' | append: gas_grill_brands | append: ',' | append: charcoal_grill_brands | append: ',' | append: pellet_grill_brands | append: ',' | append: oven_brands | append: '}' %}

<barbeque-smoker-collection
  total-products-count='{{collection.products_count}}'
  cook-types-and-brands='{{cook_types_and_brands|escape}}'
  price-range-min-and-max='[{{section.settings.min_price_in_range}}, {{section.settings.max_price_in_range}}]'
  grill-cooking-area-min-and-max='[{{section.settings.min_grill_cooking_area}}, {{section.settings.max_grill_cooking_area}}]'
  total-products-count='{{collection.products_count}}'
  default-sort-by='{{collection.default_sort_by}}'
  collection-handle='{{collection.handle}}'
  collection-metafields='{{collection.metafields.dtm.info|json}}'
>
</barbeque-smoker-collection>
{% schema %}
{
  "name": "BBQ Collection Template",
  "class": "dtm dtm-collection-section dtm-barbeque-smoker-collection-section",
  "settings": [
    {
      "type": "header",
      "content": "Brands under Cook Type"
    },
    {
      "type": "text",
      "id": "gas_grill_brands",
      "label": "Gas Grill's brands"
    },
        {
      "type": "text",
      "id": "charcoal_grill_brands",
      "label": "Charcoal Grill's brands"
    },
    {
      "type": "text",
      "id": "pellet_grill_brands",
      "label": "Pellet Grill's brands"
    },
    {
      "type": "text",
      "id": "oven_brands",
      "label": "Oven's brands"
    },
    {
      "type": "header",
      "content": "Price Range(C$)"
    },
    {
      "type": "text",
      "id": "max_price_in_range",
      "label": "Max price in range"
    },
    {
      "type": "text",
      "id": "min_price_in_range",
      "label": "Min price in range"
    },
    {
      "type": "header",
      "content": "Grill Cooking Area(ppl)"
    },
    {
      "type": "text",
      "id": "max_grill_cooking_area",
      "label": "Max grill cooking area"
    },
    {
      "type": "text",
      "id": "min_grill_cooking_area",
      "label": "Min grill cooking area"
    }
  ]
}
{% endschema %}


{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
